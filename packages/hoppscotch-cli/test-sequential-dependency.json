{
  "v": 10,
  "id": "test-sequential-dependency",
  "name": "Sequential Dependency Test Collection",
  "folders": [],
  "requests": [
    {
      "v": "16",
      "name": "Real World Dependent Tests",
      "method": "GET",
      "endpoint": "https://echo.hoppscotch.io",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "// REAL WORLD SCENARIO: Authentication flow with dependent tests\n// This simulates: Login -> Get User Profile -> Update Settings -> Verify Update\n\nlet authToken = null\nlet userId = null\nlet userEmail = null\nlet updatedSettings = null\n\nconsole.log('\\n=== AUTHENTICATION FLOW TEST SUITE ===')\nconsole.log('Testing dependent async operations in sequence\\n')\n\n// TEST 1: Login and obtain authentication token\nhopp.test('Should authenticate user and receive token', async () => {\n  console.log('[TEST 1] Starting: Login')\n  console.log('[TEST 1] Fetching login endpoint...')\n  \n  const response = await hopp.fetch('https://echo.hoppscotch.io?action=login&user=testuser')\n  console.log('[TEST 1] Response received, status:', response.status)\n  \n  const data = await response.json()\n  console.log('[TEST 1] Response data:', JSON.stringify(data.args))\n  \n  // Simulate receiving auth token\n  authToken = 'Bearer_' + Date.now() + '_' + Math.random().toString(36).substring(7)\n  console.log('[TEST 1] ✓ Auth token generated:', authToken)\n  \n  hopp.expect(response.status).toBe(200)\n  hopp.expect(authToken).not.toBe(null)\n  \n  console.log('[TEST 1] Completed\\n')\n})\n\n// TEST 2: Fetch user profile using token from TEST 1\nhopp.test('Should fetch user profile with auth token', async () => {\n  console.log('[TEST 2] Starting: Fetch User Profile')\n  console.log('[TEST 2] Auth token available:', authToken !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  \n  if (authToken === null) {\n    console.log('[TEST 2] ✗ CRITICAL ERROR: Auth token is null!')\n    console.log('[TEST 2] ✗ This means TEST 1 has not completed before TEST 2 started')\n    console.log('[TEST 2] ✗ Tests are executing CONCURRENTLY instead of SEQUENTIALLY\\n')\n  }\n  \n  console.log('[TEST 2] Using token:', authToken)\n  console.log('[TEST 2] Fetching user profile...')\n  \n  const response = await hopp.fetch('https://echo.hoppscotch.io?action=get_profile&token=' + authToken)\n  console.log('[TEST 2] Response received, status:', response.status)\n  \n  const data = await response.json()\n  console.log('[TEST 2] Response data:', JSON.stringify(data.args))\n  \n  // Simulate receiving user data\n  userId = 'user_' + Date.now()\n  userEmail = 'test@example.com'\n  console.log('[TEST 2] ✓ User ID extracted:', userId)\n  console.log('[TEST 2] ✓ User email extracted:', userEmail)\n  \n  hopp.expect(response.status).toBe(200)\n  hopp.expect(authToken).not.toBe(null)\n  hopp.expect(data.args.token).toBe(authToken)\n  hopp.expect(userId).not.toBe(null)\n  \n  console.log('[TEST 2] Completed\\n')\n})\n\n// TEST 3: Update user settings using token and userId from previous tests\nhopp.test('Should update user settings with authenticated request', async () => {\n  console.log('[TEST 3] Starting: Update Settings')\n  console.log('[TEST 3] Auth token available:', authToken !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  console.log('[TEST 3] User ID available:', userId !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  \n  if (authToken === null || userId === null) {\n    console.log('[TEST 3] ✗ CRITICAL ERROR: Required data is missing!')\n    console.log('[TEST 3] ✗ Auth token:', authToken)\n    console.log('[TEST 3] ✗ User ID:', userId)\n    console.log('[TEST 3] ✗ Previous tests have not completed before TEST 3 started\\n')\n  }\n  \n  console.log('[TEST 3] Using token:', authToken)\n  console.log('[TEST 3] Using user ID:', userId)\n  console.log('[TEST 3] Updating settings...')\n  \n  const response = await hopp.fetch('https://echo.hoppscotch.io?action=update_settings&token=' + authToken + '&user_id=' + userId + '&theme=dark')\n  console.log('[TEST 3] Response received, status:', response.status)\n  \n  const data = await response.json()\n  console.log('[TEST 3] Response data:', JSON.stringify(data.args))\n  \n  // Simulate settings update confirmation\n  updatedSettings = { theme: 'dark', timestamp: Date.now() }\n  console.log('[TEST 3] ✓ Settings updated:', JSON.stringify(updatedSettings))\n  \n  hopp.expect(response.status).toBe(200)\n  hopp.expect(authToken).not.toBe(null)\n  hopp.expect(userId).not.toBe(null)\n  hopp.expect(data.args.token).toBe(authToken)\n  hopp.expect(data.args.user_id).toBe(userId)\n  hopp.expect(data.args.theme).toBe('dark')\n  \n  console.log('[TEST 3] Completed\\n')\n})\n\n// TEST 4: Verify settings were updated using all previous data\nhopp.test('Should verify settings update was successful', async () => {\n  console.log('[TEST 4] Starting: Verify Update')\n  console.log('[TEST 4] Auth token available:', authToken !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  console.log('[TEST 4] User ID available:', userId !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  console.log('[TEST 4] Updated settings available:', updatedSettings !== null ? 'YES ✓' : 'NO ✗ FAIL!')\n  \n  if (authToken === null || userId === null || updatedSettings === null) {\n    console.log('[TEST 4] ✗ CRITICAL ERROR: Required data is missing!')\n    console.log('[TEST 4] ✗ Auth token:', authToken)\n    console.log('[TEST 4] ✗ User ID:', userId)\n    console.log('[TEST 4] ✗ Updated settings:', updatedSettings)\n    console.log('[TEST 4] ✗ All previous tests must complete before TEST 4 starts\\n')\n  }\n  \n  console.log('[TEST 4] Using token:', authToken)\n  console.log('[TEST 4] Using user ID:', userId)\n  console.log('[TEST 4] Verifying settings:', JSON.stringify(updatedSettings))\n  console.log('[TEST 4] Fetching current settings...')\n  \n  const response = await hopp.fetch('https://echo.hoppscotch.io?action=get_settings&token=' + authToken + '&user_id=' + userId)\n  console.log('[TEST 4] Response received, status:', response.status)\n  \n  const data = await response.json()\n  console.log('[TEST 4] Response data:', JSON.stringify(data.args))\n  \n  hopp.expect(response.status).toBe(200)\n  hopp.expect(authToken).not.toBe(null)\n  hopp.expect(userId).not.toBe(null)\n  hopp.expect(updatedSettings).not.toBe(null)\n  hopp.expect(data.args.token).toBe(authToken)\n  hopp.expect(data.args.user_id).toBe(userId)\n  \n  console.log('[TEST 4] ✓ Verification complete')\n  console.log('[TEST 4] Completed\\n')\n})\n\n// TEST 5: Parallel operations that should NOT interfere\nhopp.test('Should handle independent parallel requests', async () => {\n  console.log('[TEST 5] Starting: Independent Parallel Requests')\n  console.log('[TEST 5] This test does NOT depend on previous tests')\n  console.log('[TEST 5] Fetching multiple independent endpoints in parallel...')\n  \n  const responses = await Promise.all([\n    hopp.fetch('https://echo.hoppscotch.io?endpoint=status'),\n    hopp.fetch('https://echo.hoppscotch.io?endpoint=health'),\n    hopp.fetch('https://echo.hoppscotch.io?endpoint=version')\n  ])\n  \n  console.log('[TEST 5] All parallel requests completed')\n  console.log('[TEST 5] Response 1 status:', responses[0].status)\n  console.log('[TEST 5] Response 2 status:', responses[1].status)\n  console.log('[TEST 5] Response 3 status:', responses[2].status)\n  \n  hopp.expect(responses[0].status).toBe(200)\n  hopp.expect(responses[1].status).toBe(200)\n  hopp.expect(responses[2].status).toBe(200)\n  \n  console.log('[TEST 5] Completed\\n')\n})\n\nconsole.log('=== ALL TESTS REGISTERED ===')\nconsole.log('If tests execute SEQUENTIALLY:')\nconsole.log('  ✓ Each test will have access to data from previous tests')\nconsole.log('  ✓ All expectations will pass')\nconsole.log('  ✓ Tests will appear in registration order: 1 -> 2 -> 3 -> 4 -> 5')\nconsole.log('')\nconsole.log('If tests execute CONCURRENTLY:')\nconsole.log('  ✗ Tests 2, 3, 4 will see null values for dependent data')\nconsole.log('  ✗ Expectations will fail')\nconsole.log('  ✗ Tests may appear in completion order (random)\\n')\n",
      "auth": {
        "authType": "inherit",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "_ref_id": "req_sequential_dependency"
    }
  ],
  "auth": {
    "authType": "inherit",
    "authActive": true
  },
  "headers": [],
  "variables": [],
  "_ref_id": "coll_sequential_dependency"
}
