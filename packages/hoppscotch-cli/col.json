{
  "v": 10,
  "id": "cmhrigxnk02cfp90m42j4mhs0",
  "name": "col",
  "folders": [],
  "requests": [
    {
      "v": "16",
      "name": "req",
      "method": "GET",
      "endpoint": "https://echo.hoppscotch.io",
      "params": [],
      "headers": [],
      "preRequestScript": "",
      "testScript": "console.log('\\n=== SCRIPT START ===')\nconsole.log('Timestamp:', Date.now())\n\n// Test 1: Top-level await in test script\nconsole.log('\\n[TOPLEVEL] Fetching test-toplevel...')\nconst response1 = await hopp.fetch('https://echo.hoppscotch.io?test=test-toplevel')\nconsole.log('[TOPLEVEL] Response received, parsing JSON...')\nconst data1 = await response1.json()\nconsole.log('[TOPLEVEL] JSON parsed, registering test...')\n\nhopp.test('Test script top-level await works', () => {\n  console.log('[TEST1] Executing test callback')\n  console.log('[TEST1] Adding expectation 1/2')\n  hopp.expect(response1.status).toBe(200)\n  console.log('[TEST1] Adding expectation 2/2')\n  hopp.expect(data1.args.test).toBe('test-toplevel')\n  console.log('[TEST1] Test callback completed')\n})\nconsole.log('[TEST1] Test registered\\n')\n\n// Test 2: await inside hopp.test callback\nconsole.log('[TEST2] Registering test...')\nhopp.test('Await inside test callback works', async () => {\n  console.log('[TEST2] Async callback started')\n  console.log('[TEST2] Fetching inside-callback...')\n  const response = await hopp.fetch('https://echo.hoppscotch.io?test=inside-callback')\n  console.log('[TEST2] Response received')\n  console.log('[TEST2] Adding expectation 1/2')\n  hopp.expect(response.status).toBe(200)\n  console.log('[TEST2] Parsing JSON...')\n  const data = await response.json()\n  console.log('[TEST2] JSON parsed')\n  console.log('[TEST2] Adding expectation 2/2')\n  hopp.expect(data.args.test).toBe('inside-callback')\n  console.log('[TEST2] Async callback completed')\n})\nconsole.log('[TEST2] Test registered (async callback not executed yet)\\n')\n\n// Test 3: .then() inside test callback\nconsole.log('[TEST3] Registering test...')\nhopp.test('.then() inside test callback works', () => {\n  console.log('[TEST3] Callback started, initiating fetch...')\n  return hopp.fetch('https://echo.hoppscotch.io?test=then-callback')\n    .then(response => {\n      console.log('[TEST3] First .then() - response received')\n      console.log('[TEST3] Adding expectation 1/2')\n      hopp.expect(response.status).toBe(200)\n      console.log('[TEST3] Parsing JSON...')\n      return response.json()\n    })\n    .then(data => {\n      console.log('[TEST3] Second .then() - JSON parsed')\n      console.log('[TEST3] Adding expectation 2/2')\n      hopp.expect(data.args.test).toBe('then-callback')\n      console.log('[TEST3] Promise chain completed')\n    })\n})\nconsole.log('[TEST3] Test registered (promise chain not executed yet)\\n')\n\n// Test 4: Mixed pattern in test\nconsole.log('[TEST4] Registering test...')\nhopp.test('Mixed pattern in test works', async () => {\n  console.log('[TEST4] Async callback started')\n  console.log('[TEST4] Fetching mixed-test...')\n  await hopp.fetch('https://echo.hoppscotch.io?test=mixed-test')\n    .then(response => {\n      console.log('[TEST4] .then(1) - response received, parsing...')\n      return response.json()\n    })\n    .then(data => {\n      console.log('[TEST4] .then(2) - JSON parsed')\n      console.log('[TEST4] Adding expectation 1/1')\n      hopp.expect(data.args.test).toBe('mixed-test')\n      console.log('[TEST4] Expectation added')\n    })\n  console.log('[TEST4] Async callback completed')\n})\nconsole.log('[TEST4] Test registered (async callback not executed yet)\\n')\n\n// Test 5: Promise.all in test callback\nconsole.log('[TEST5] Registering test...')\nhopp.test('Promise.all in test callback works', async () => {\n  console.log('[TEST5] Async callback started')\n  console.log('[TEST5] Fetching 2 parallel requests...')\n  const responses = await Promise.all([\n    hopp.fetch('https://echo.hoppscotch.io?id=1'),\n    hopp.fetch('https://echo.hoppscotch.io?id=2')\n  ])\n  console.log('[TEST5] Both responses received')\n  console.log('[TEST5] Adding expectation 1/4')\n  hopp.expect(responses[0].status).toBe(200)\n  console.log('[TEST5] Adding expectation 2/4')\n  hopp.expect(responses[1].status).toBe(200)\n  console.log('[TEST5] Parsing both JSONs...')\n  const dataArray = await Promise.all(responses.map(r => r.json()))\n  console.log('[TEST5] Both JSONs parsed')\n  console.log('[TEST5] Adding expectation 3/4')\n  hopp.expect(dataArray[0].args.id).toBe('1')\n  console.log('[TEST5] Adding expectation 4/4')\n  hopp.expect(dataArray[1].args.id).toBe('2')\n  console.log('[TEST5] Async callback completed')\n})\nconsole.log('[TEST5] Test registered (async callback not executed yet)\\n')\n\nconsole.log('=== SCRIPT END (all tests registered) ===')\nconsole.log('=== Async callbacks will execute based on promise resolution ===\\n')\n",
      "auth": {
        "authType": "inherit",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {},
      "_ref_id": "req_mhpy813c_a114eefb-9b5a-4e8c-a6c1-265007a80738"
    }
  ],
  "auth": {
    "authType": "inherit",
    "authActive": true
  },
  "headers": [],
  "variables": [],
  "_ref_id": "coll_mhrihfhc_7130bf87-51bc-4830-8707-7400a1a21009"
}