{
  "id": "ctest001",
  "_ref_id": "coll_test_diagnostic",
  "v": 10,
  "name": "hopp.fetch() Diagnostic Test",
  "folders": [],
  "variables": [],
  "auth": {
    "authType": "inherit",
    "authActive": true
  },
  "headers": [],
  "requests": [
    {
      "v": "15",
      "id": "ctest002",
      "name": "Diagnostic: Basic Fetch Test",
      "method": "GET",
      "endpoint": "https://echo.hoppscotch.io",
      "params": [],
      "headers": [],
      "preRequestScript": "export {};\nconsole.log('=== PRE-REQUEST SCRIPT START ===')\nconsole.log('1. Testing hopp.fetch()')\n\ntry {\n  const response = await hopp.fetch('https://echo.hoppscotch.io?test=diagnostic')\n  console.log('2. Got response, status:', response.status)\n  \n  const data = await response.json()\n  console.log('3. Parsed JSON, method:', data.method)\n  \n  // Set environment variables\n  hopp.env.active.set('diagnostic_status', String(response.status))\n  hopp.env.active.set('diagnostic_method', String(data.method))\n  hopp.env.active.set('diagnostic_test_param', String(data.args?.test || 'MISSING'))\n  \n  console.log('4. Set environment variables:')\n  console.log('   - diagnostic_status:', hopp.env.active.get('diagnostic_status'))\n  console.log('   - diagnostic_method:', hopp.env.active.get('diagnostic_method'))\n  console.log('   - diagnostic_test_param:', hopp.env.active.get('diagnostic_test_param'))\n} catch (error) {\n  console.error('ERROR in pre-request:', error)\n  hopp.env.active.set('diagnostic_error', String(error.message))\n}\n\nconsole.log('=== PRE-REQUEST SCRIPT END ===')\n",
      "testScript": "export {};\nconsole.log('=== POST-REQUEST SCRIPT START ===')\n\n// Check if environment variables are accessible\nconst status = hopp.env.active.get('diagnostic_status')\nconst method = hopp.env.active.get('diagnostic_method')\nconst testParam = hopp.env.active.get('diagnostic_test_param')\nconst error = hopp.env.active.get('diagnostic_error')\n\nconsole.log('1. Reading environment variables from post-request:')\nconsole.log('   - diagnostic_status:', status, 'type:', typeof status)\nconsole.log('   - diagnostic_method:', method, 'type:', typeof method)\nconsole.log('   - diagnostic_test_param:', testParam, 'type:', typeof testParam)\nconsole.log('   - diagnostic_error:', error, 'type:', typeof error)\n\nif (error) {\n  hopp.test('No error in pre-request', () => {\n    hopp.expect(error).toBe(null)\n  })\n} else {\n  hopp.test('Status was set in pre-request', () => {\n    hopp.expect(status).not.toBe(null)\n    hopp.expect(status).toBe('200')\n  })\n  \n  hopp.test('Method was set in pre-request', () => {\n    hopp.expect(method).not.toBe(null)\n    hopp.expect(method).toBe('GET')\n  })\n  \n  hopp.test('Test param was captured', () => {\n    hopp.expect(testParam).not.toBe(null)\n    hopp.expect(testParam).toBe('diagnostic')\n  })\n}\n\nconsole.log('=== POST-REQUEST SCRIPT END ===')\n",
      "auth": {
        "authType": "inherit",
        "authActive": true
      },
      "body": {
        "contentType": null,
        "body": null
      },
      "requestVariables": [],
      "responses": {}
    }
  ]
}
